# Домен не видно в Railway — что сделать

## 1. Взять домен из старых логов

В твоих логах уже был домен: **web-production-391a8.up.railway.app**

Его можно использовать, не ища кнопку в интерфейсе.

**Сделай так:**

1. Railway → твой сервис бота → **Variables**.
2. Добавь переменную:
   - **Name:** `WEBHOOK_URL`
   - **Value:** `https://web-production-391a8.up.railway.app/webhook`
3. Сохрани переменные. Railway перезапустит сервис.

Если этот домен всё ещё привязан к проекту, бот подхватит его и установит вебхук. В логах должно появиться: `✅ Webhook установлен: https://web-production-391a8.up.railway.app/webhook`.

Проверь бота в Telegram — напиши `/start`. Если отвечает, домен рабочий.

---

## 2. Если домен не открывается (404 / не работает)

Тогда его нужно заново создать в Railway. Часто кнопки нет по двум причинам:

### Причина A: Включён TCP Proxy

Если у сервиса включён **TCP Proxy**, кнопки **Generate Domain** не будет.

1. Railway → сервис бота → **Settings**.
2. Найди блок **TCP Proxy** (или **Proxying**).
3. Если там есть включённый прокси — удали его (иконка корзины / **Remove**).
4. Обнови страницу и снова зайди в **Settings** → посмотри блок **Networking** / **Public Networking** — должна появиться опция **Generate Domain** или добавления домена.

### Причина B: Другой интерфейс (новый Railway)

В новом интерфейсе Railway (railway.com) домен иногда настраивается так:

1. Открой **проект** (главный экран с сервисами).
2. **Кликни по карточке сервиса бота** (не по деплою, а по самому сервису).
3. Справа или снизу откроется **панель сервиса**. В ней могут быть:
   - **Networking** / **Public Network** / **Domains**
   - или кнопка **Generate Domain** / **Add Domain**
4. Либо вверху у сервиса есть вкладки: **Deployments**, **Variables**, **Settings** — зайди в **Settings** и прокрути вниз до блока про сеть/домены.

Если видишь **TCP Proxy** и он включён — сначала отключи/удали его, потом ищи домен.

---

## 3. Узнать домен через браузер (если когда-то открывал бота)

Если ты раньше открывал бота по ссылке (например из Railway по кнопке «Open»):

- Посмотри **историю браузера** (Ctrl+H) — поиск по `railway.app` или `up.railway.app`. Там может быть сохранённый URL твоего сервиса.
- Домен будет вида: `что-то.up.railway.app`. Тогда в Variables задай:  
  `WEBHOOK_URL=https://что-то.up.railway.app/webhook`

---

## 4. Итог

Сначала попробуй **п. 1** — подставить в Variables домен из логов:

**WEBHOOK_URL** = `https://web-production-391a8.up.railway.app/webhook`

Если после редиплоя в логах есть `✅ Webhook установлен` и бот отвечает в Telegram — ничего в интерфейсе искать не нужно. Если домен не сработает — тогда снимай TCP Proxy (п. 2) и заново ищи/создавай домен в Settings сервиса.
