# Как обновить бота на Railway (через GitHub)

Все изменения кода у тебя **локально**. Чтобы Railway подхватил обновления, нужно отправить код в GitHub — Railway сам пересоберёт и задеплоит проект.

## Шаги

### 1. Закоммитить и отправить в GitHub

В папке `tower_bot` выполни в терминале:

```bash
cd c:\Users\boiar\tower_bot

git add .
git commit -m "Постбэки 1win, авто-проверка депозитов, 4 фото"
git push origin main
```

Если репозиторий ещё не привязан к GitHub:

```bash
git remote add origin https://github.com/ТВОЙ_ЛОГИН/ТВОЙ_РЕПОЗИТОРИЙ.git
git branch -M main
git push -u origin main
```

(подставь свой логин и имя репозитория)

### 2. Railway подхватит обновление

- Если проект на Railway уже подключён к этому репозиторию GitHub — после `git push` Railway сам запустит новый деплой.
- Открой проект на [railway.app](https://railway.app) → вкладка **Deployments** — там будет новый билд и деплой.

### 3. Переменные окружения (если нужно)

Постбэки уже настроены по умолчанию:

- Группа: `-1003810391629`
- Регулярка для sub1: `^([^|]+)`

Менять в Railway **не обязательно**. Если захочешь другую группу или формат:

- Railway → твой проект → **Variables** → добавь или измени:
  - `CHANNEL_DISCUSSION_GROUP_ID`
  - `POSTBACK_USER_ID_REGEX`

### 4. Проверка

После деплоя:

1. В логах Railway должно быть: `Обработчик постбэков включён для группы обсуждения: -1003810391629`.
2. В Telegram: нажать «Готово» в меню пополнения → отправить ID 1win → бот должен проверить по постбэкам и выдать доступ при совпадении.

---

**Кратко:** делаешь `git add .` → `git commit -m "..."` → `git push origin main`, дальше Railway обновит бота сам.
